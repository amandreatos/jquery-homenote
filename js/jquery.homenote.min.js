(function(e){e.fn.homenote=function(t){function r(){var t=e("#purchasePrice").val().replace(/[^0-9\.]/g,""),r=e("#dpamount").val().replace(/[^0-9\.]/g,"");if(n.dptype==="percentage")return r/t*100+"%";var i=r/100;return t*i}function i(){var t=e("#term").val();return e('input:radio[name="termtype"]:checked').val()==="months"?t*12:t/12}function s(){var t=e('input:radio[name="dptype"]:checked').val(),n=e("#purchasePrice").val().replace(/[^0-9\.]/g,""),r=e("#dpamount").val().replace(/[^0-9\.]/g,"");if(t==="percentage"){var i=r/100;return n-n*i}return n-r}function o(){var t=e("#term").val();return e('input:radio[name="termtype"]:checked').val()==="months"?t:t*12}function u(){var t=s(),n=e("#rate").val().replace(/[^0-9\.]/g,"")/100/12,r=o(),i=Math.pow(1+n,r),u=(t*(n*i/(i-1))).toFixed(2);return u}function a(){var e="<form id='homenote' role='form' class='well'>";e+="<div class='form-group'><label for='purchasePrice'>Purchase Price ("+n.currencysym+")</label>";e+="<input type='text' class='form-control' id='purchasePrice' value='"+n.principal+"'></div></hr>";e+="<div class='form-group'><label for='downPayment'>Down Payment</label><input type='text' class='form-control' id='dpamount' value='"+n.dpamount+"'></div>";e+="<label class='radio-inline'><input type='radio' name='dptype' id='downpercentage' value='percentage'";n.dptype==="percentage"&&(e+=" checked");e+=">Percent (%)</label>";e+="<label class='radio-inline'><input type='radio' name='dptype' id='downlump' value='downlump'";n.dptype==="downlump"&&(e+=" checked");e+=">"+n.currency+" ("+n.currencysym+")</label><hr>";e+="<div class='form-group'><label for='rate'>Rate (%)</label><input type='text' class='form-control' id='rate' value='"+n.rate+"'></div><hr>";e+="<div class='form-group'><label for='rate'>Term</label><input type='text' class='form-control' id='term' value='"+n.term+"'></div>";e+="<label class='radio-inline'><input type='radio' name='termtype' id='years' value='years' ";n.termtype==="years"&&(e+="checked");e+=">Years</label>";e+="<label class='radio-inline'><input type='radio' name='termtype' id='months' value='months'";n.termtype==="months"&&(e+="checked");e+=">Months</label><hr>";e+="<div class='alert alert-success' style='display:none;' id='results'></div>";e+="<button type='submit' class='btn btn-primary btn-block' id='calchomenote'>Calculate</button></form>";return e}var n=e.extend({currencysym:"$",currency:"Dollars",termtype:"years",term:"30",principal:"250,000",dptype:"percentage",dpamount:"20%",rate:"6.5",resulttext:"Your monthly payment:"},t);t=e.extend(n,t);e(document).on("change",'input[name="termtype"]',function(){n.termtype=e(this).val();e("#term").val(i())});e(document).on("change",'input[name="dptype"]',function(){n.dptype=e(this).val();e("#dpamount").val(r())});e(document).on("click","#calchomenote",function(t){t.preventDefault();e("#results").hide().html(n.resulttext+" <strong>"+n.currencysym+u()+"</strong>").show()});e(this).html(a())}})(jQuery);